# Stevens Fit DB Schema

## Authors
- Abhishek Yadav
- Angelo Saez 
- Yousef Khalil 
- George Sheng

***


With this schema design, we store and manage the information related to users, exercises, workouts, and personal workout history. 

***

# Users Collection

This collection will store user information.

```json
{
    _id: ObjectId,
    username: String,
    password: String, // Store hashed password
    email: String,
    workouts: [ObjectId], // Array of workout ids
    workoutLogs: [ObjectId] // Array of workoutLog ids
}
```

Example User

```json
{
    "_id": "60f8a4872d1234567890abcd",
    "username": "johndoe",
    "password": "$2b$10$Y8qlEhUfpywM6v2QWq8zXuX9ZxJzBvRjLAqh8G0fUQB56pvwFvXTi", // Hashed password using bcrypt
    "email": "johndoe@example.com",
    "workouts": [
        "60f8a4a22d1234567890abce",
        "60f8a4a22d1234567890abcf"
    ],
    "workoutHistory": [
        "60f8a4a22d1234567890abd0",
        "60f8a4a22d1234567890abd1"
    ]
}
```
***

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>_id</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as the primary key for a document. It's a unique identifier generated by MongoDB for each document.</td>
    </tr>
    <tr>
      <td>username</td>
      <td>String</td>
      <td>A string representing the user's username. It should be unique for each user, and users will use it to log in to the application.</td>
    </tr>
    <tr>
      <td>password</td>
      <td>String</td>
      <td>The user's hashed password. It's essential to store only the hashed version of the password (using a secure hashing algorithm like bcrypt) for security reasons. Storing plaintext passwords can lead to severe security vulnerabilities.</td>
    </tr>
    <tr>
      <td>email</td>
      <td>String</td>
      <td>The user's email address. It can be used for account recovery, notifications, or other communication purposes.</td>
    </tr>
    <tr>
      <td>workouts</td>
      <td>Array of ObjectIds</td>
      <td>An array of ObjectIds that reference the workouts created by the user. Each ObjectId in the array corresponds to a document in the Workouts collection. This setup allows us to store the relationship between users and the workouts they create.</td>
    </tr>
    <tr>
      <td>workoutLogs</td>
      <td>Array of ObjectIds</td>
      <td>An array of ObjectIds that reference the workout history for the user. Each ObjectId in the array corresponds to a document in the WorkoutLogs collection. This setup allows us to store the relationship between users and their workout log.</td>
    </tr>
  </tbody>
</table>

# Exercises Collection:
This collection will store information about exercises. Data found on [kaggle.com/datasets/edoardoba/fitness-exercises-with-animations](https://www.kaggle.com/datasets/edoardoba/fitness-exercises-with-animations?resource=download)
```json
{
    "_id": ObjectId,
    "name": String,
    "target": String,
    "bodyPart": String,
    "equipment": String,
    "gifUrl": String,
}
```
## Example
```json
{
    "_id": "70e9b2c83f1234567890abcd",
    "name": "3/4 sit-up",
    "target": "abs",
    "bodyPart": "waist",
    "equipment": "body weight",
    "gifUrl": "[String](http://d205bpvrqc9yn1.cloudfront.net/0001.gif)",
}
```
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>_id</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as the primary key for a document. It's a unique identifier generated by MongoDB for each document.</td>
    </tr>
    <tr>
      <td>name</td>
      <td>String</td>
      <td>A string representing the name of the exercise.</td>
    </tr>
    <tr>
      <td>target</td>
      <td>String</td>
      <td>A string representing the primary muscle group targeted by the exercise.</td>
    </tr>
    <tr>
      <td>bodyPart</td>
      <td>String</td>
      <td>A string representing the specific body part the exercise targets.</td>
    </tr>
    <tr>
      <td>equipment</td>
      <td>String</td>
      <td>A string representing the equipment used for the exercise, such as "body weight" or "dumbbells."</td>
    </tr>
    <tr>
      <td>gifUrl</td>
      <td>String</td>
      <td>A string containing the URL of a GIF image that demonstrates the exercise.</td>
    </tr>
  </tbody>
</table>

***

# Workouts Collection:
This collection will store workouts created by users. 
```json
{
    _id: ObjectId,
    name: String,
    creator: ObjectId, // User id who created the workout
    exerciseLogs: [
        {
            exerciseId: ObjectId, // Exercise id from Exercises collection
            sets: Number,
            reps: Number,
            additionalDetails: String
        }
    ]
}
```
## Example Workout
```json
{
    "_id": "80f9c3d94g1234567890abcd",
    "name": "Full Body Strength Training",
    "creator": "60f8a4872d1234567890abcd", // User id who created the workout
    "exerciseLogs": [
        {
            "exerciseId": "70e9b2c83f1234567890abcd", // Exercise id from Exercises collection (Bench Press)
            "sets": 3,
            "reps": 10,
            "notes": "Rest for 90 seconds between sets."
        },
        {
            "exerciseId": "70e9b2c83f1234567890abce", // Another Exercise id from Exercises collection
            "sets": 4,
            "reps": 12,
            "notes": "Use a challenging weight."
        }
    ]
}
```

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>_id</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as the primary key for a document. It's a unique identifier generated by MongoDB for each document.</td>
    </tr>
    <tr>
      <td>name</td>
      <td>String</td>
      <td>A string representing the name of the workout.</td>
    </tr>
    <tr>
      <td>creator</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as a foreign key referencing the Users collection. It represents the user who created the workout.</td>
    </tr>
    <tr>
      <td>exerciseLogs</td>
      <td>Array of ExerciseLog subdocuments</td>
      <td>An array of ExerciseLog subdocuments, each containing information about a specific exercise in the workout, including the exerciseId, sets, reps, and any additional notes.</td>
    </tr>
  </tbody>
</table>

***
## ExerciseLogs subdocument
### ExerciseLog
```json
{
    exerciseId: ObjectId, // Exercise id from Exercises collection
    name: String, // name from Exercises collection
    sets: Number,
    reps: Number,
    notes: String
}
Example
{
    "exerciseId": "70e9b2c83f1234567890abcd", // Exercise id from Exercises collection (Bench Press)
    "sets": 3,
    "reps": 10,
    "notes": "Rest for 90 seconds between sets."
}
```

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>exerciseId</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as a foreign key referencing the Exercises collection. It represents the specific exercise being performed or logged.</td>
    </tr>
    <tr>
      <td>name</td>
      <td>String</td>
      <td>A string representing the name of the exercise, taken from the Exercises collection.</td>
    </tr>
    <tr>
      <td>sets</td>
      <td>Number</td>
      <td>A number representing the number of sets performed or planned for the exercise.</td>
    </tr>
    <tr>
      <td>reps</td>
      <td>Number</td>
      <td>A number representing the number of repetitions performed or planned for each set of the exercise.</td>
    </tr>
    <tr>
      <td>notes</td>
      <td>String</td>
      <td>A string containing any additional notes or details related to the exercise, such as instructions, rest periods, or personal observations.</td>
    </tr>
  </tbody>
</table>


***

# WorkoutLogs Collection:
This collection will contain documents which represent a log of a workout performed a user. The actual sets, reps they did and any notes recorded by the user. 
```json
{
    _id: ObjectId,
    userId: ObjectId, // User id who performed the workout
    workoutId: ObjectId, // Workout id from Workouts collection
    date: Date,
    exerciseLogs: [
        {
            exerciseId: ObjectId, // Exercise id from Exercises collection
            name: String, // name from Exercises collection
            sets: Number,
            reps: Number,
            notes: String
        }
    ]
}
```
## Example Workout Log
```json
{
    "_id": "90g0d5e96h1234567890abcd",
    "userId": "60f8a4872d1234567890abcd", // User id who performed the workout
    "workoutId": "80f9c3d94g1234567890abcd", // Workout id from Workouts collection
    "date": "2023-03-23T00:00:00.000Z",
    "exerciseLogs": [
        {
            "exerciseId": "70e9b2c83f1234567890abcd", // Exercise id from Exercises collection (Bench Press)
            "sets": 3,
            "reps": 10,
            "notes": "Felt strong today, increased weight by 5 lbs."
        },
        {
            "exerciseId": "70e9b2c83f1234567890abce", // Another Exercise id from Exercises collection
            "sets": 4,
            "reps": 12,
            "notes": "Struggled on the last set, need to work on form."
        }
    ]
}
```

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>_id</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as the primary key for a document. It's a unique identifier generated by MongoDB for each document.</td>
    </tr>
    <tr>
      <td>userId</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as a foreign key referencing the Users collection. It represents the user who performed the workout.</td>
    </tr>
    <tr>
      <td>workoutId</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as a foreign key referencing the Workouts collection. It represents the workout that was performed.</td>
    </tr>
    <tr>
      <td>date</td>
      <td>Date</td>
      <td>A Date object representing the date when the workout was performed.</td>
    </tr>
    <tr>
      <td>exerciseLogs</td>
      <td>Array of ExerciseLog subdocuments</td>
      <td>An array of ExerciseLog subdocuments, each containing information about a specific exercise performed in the workout, including the exerciseId, sets, reps, and any additional notes.</td>
    </tr>
  </tbody>
</table>

***

## ExerciseLogs subdocument
```json
{
    exerciseId: ObjectId, // Exercise id from Exercises collection
    sets: Number,
    reps: Number,
    notes: String
}
```
### Example
```json
{
    "exerciseId": "70e9b2c83f1234567890abce", // Another Exercise id from Exercises collection
    "sets": 4,
    "reps": 12,
    "notes": "Struggled on the last set, need to work on form."
}
```

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>exerciseId</td>
      <td>ObjectId</td>
      <td>An ObjectId that serves as a foreign key referencing the Exercises collection. It represents the specific exercise being performed or logged.</td>
    </tr>
    <tr>
      <td>sets</td>
      <td>Number</td>
      <td>A number representing the number of sets performed or planned for the exercise.</td>
    </tr>
    <tr>
      <td>reps</td>
      <td>Number</td>
      <td>A number representing the number of repetitions performed or planned for each set of the exercise.</td>
    </tr>
    <tr>
      <td>notes</td>
      <td>String</td>
      <td>A string containing any additional notes or details related to the exercise, such as instructions, rest periods, or personal observations.</td>
    </tr>
  </tbody>
</table>